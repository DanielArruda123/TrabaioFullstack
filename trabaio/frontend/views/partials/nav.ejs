<nav class="orange darken-2"  role="navigation">
  <div class="nav-wrapper container">
    <a id="logo-container" href="#" class="brand-logo"><img src="/img/logo-pets.png" alt="logo"></a>
    <ul class="right hide-on-med-and-down">
      <li><a href="/"><i class="material-icons left">home</i>Home</a></li>
      <li><a href="/users"><i class="material-icons left">people</i>Usuários</a></li>
      <li><a href="/pets"><i class="material-icons left">pets</i>Pets</a></li>
      <li><a href="/login"><i class="material-icons left">login</i>Login</a></li>
      <li><a href="/products"><i class="material-icons left"></i>Products</a></li>
      <li><a href="/services"><i class="material-icons left"></i>Services</a></li>
      <li><a href="/tutors"><i class="material-icons left"></i>Tutors</a></li>
      <li><a href="/solicitations"><i class="material-icons left"></i>Solicitations</a></li>
    </ul>

    <ul id="nav-mobile" class="sidenav">
      <li>
        <div class="user-view">
          <div class="background">
            <img src="https://materializecss.com/images/office.jpg">
          </div>
          <a href="#user"><img class="circle" src="https://materializecss.com/images/yuna.jpg"></a>
          <a href="#name"><span class="white-text name">John Doe</span></a>
          <a href="#email"><span class="white-text email">jdandturk@gmail.com</span></a>
        </div>
      </li>
      <li><a href="/"><i class="material-icons left">home</i>Home</a></li>
      <li><a href="/users"><i class="material-icons left">people</i>Usuários</a></li>
      <li><a href="/pets"><i class="material-icons left">pets</i>Pets</a></li>
      <li><a href="/login"><i class="material-icons left">login</i>Login</a></li>
      <li><a href="/products"><i class="material-icons left"></i>Products</a></li>
      <li><a href="/services"><i class="material-icons left"></i>Services</a></li>
      <li><a href="/tutors"><i class="material-icons left"></i>Tutors</a></li>
      <li><a href="/solicitations"><i class="material-icons left"></i>Solicitations</a></li>
    </ul>

    <a href="#" data-target="nav-mobile" class="sidenav-trigger">
      <i class="material-icons">menu</i>
    </a>
  </div>
</nav>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  // Controle de exibição de links por permissão
  // Exemplo de configuração: altere conforme o usuário logado e permissões
  // Exemplo: const userPermissions = ['home', 'login', 'users', 'pets'];
  // Para visitante: const userPermissions = ['home', 'login'];
  // Para admin: const userPermissions = ['home', 'users', 'pets', 'products', 'services', 'tutors', 'solicitations'];
  const userPermissions = window.userPermissions || ['home', 'login']; // Defina window.userPermissions no backend ou JS global
  
  //ERICK, VER SE ISSO AQUI (PERMOISSOES), PRESTA PRA ALGUMA COISA QUANDO TU IMPLEMENTAR O AS RESTRICOES PARA CADA USUARIO, SE N APAGA OU ME AVISA
  // Mapeamento dos hrefs para permissões
  const linkPermissionMap = {
    '/': 'home',
    '/login': 'login',
    '/users': 'users',
    '/pets': 'pets',
    '/products': 'products',
    '/services': 'services',
    '/tutors': 'tutors',
    '/solicitations': 'solicitations'
  };

  $(document).ready(function(){
    // Desktop
    $("nav .nav-wrapper ul li a").each(function(){
      var href = $(this).attr('href');
      var perm = linkPermissionMap[href];
      if(perm && userPermissions.indexOf(perm) === -1) {
        $(this).parent().hide();
      } else {
        $(this).parent().show();
      }
    });
    // Mobile
    $("#nav-mobile li a").each(function(){
      var href = $(this).attr('href');
      var perm = linkPermissionMap[href];
      if(perm && userPermissions.indexOf(perm) === -1) {
        $(this).parent().hide();
      } else {
        $(this).parent().show();
      }
    });
  });
</script>
